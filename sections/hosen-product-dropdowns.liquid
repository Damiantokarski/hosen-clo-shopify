{{ 'section-hosen-product-dropdowns.css' | asset_url | stylesheet_tag }}
<script src="{{ 'hosen-product-dropdowns.js' | asset_url }}" defer="defer"></script>

<div class="hosen-product-dropdowns color-{{ section.settings.color_scheme }}" style="--padding-top: {{ section.settings.padding_top }}px; --padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="hosen-product-dropdowns__container page-width">
    
    {%- if section.settings.heading != blank -%}
      <div class="hosen-product-dropdowns__header">
        <h2 class="hosen-product-dropdowns__title {{ section.settings.heading_size }}">
          {{ section.settings.heading }}
        </h2>
      </div>
    {%- endif -%}

    <div class="hosen-product-dropdowns__accordion">
      {%- for block in section.blocks -%}
        {%- case block.type -%}
          {%- when 'description' -%}
            {%- if product.description != blank -%}
              <div class="hosen-product-dropdowns__item" {{ block.shopify_attributes }}>
                <button class="hosen-product-dropdowns__question" data-dropdown-toggle>
                  <span class="hosen-product-dropdowns__question-text">{{ block.settings.heading | default: 'Opis produktu' }}</span>
                  <span class="hosen-product-dropdowns__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </span>
                </button>
                <div class="hosen-product-dropdowns__answer">
                  <div class="hosen-product-dropdowns__answer-inner rte">
                    {{ product.description }}
                  </div>
                </div>
              </div>
            {%- endif -%}

          {%- when 'custom' -%}
            <div class="hosen-product-dropdowns__item" {{ block.shopify_attributes }}>
              <button class="hosen-product-dropdowns__question" data-dropdown-toggle>
                <span class="hosen-product-dropdowns__question-text">{{ block.settings.heading }}</span>
                <span class="hosen-product-dropdowns__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              </button>
              <div class="hosen-product-dropdowns__answer">
                <div class="hosen-product-dropdowns__answer-inner rte">
                  {{ block.settings.content }}
                </div>
              </div>
            </div>

          {%- when 'page' -%}
            {%- if block.settings.page != blank -%}
              <div class="hosen-product-dropdowns__item" {{ block.shopify_attributes }}>
                <button class="hosen-product-dropdowns__question" data-dropdown-toggle>
                  <span class="hosen-product-dropdowns__question-text">{{ block.settings.heading | default: block.settings.page.title }}</span>
                  <span class="hosen-product-dropdowns__icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                  </span>
                </button>
                <div class="hosen-product-dropdowns__answer">
                  <div class="hosen-product-dropdowns__answer-inner rte">
                    {{ block.settings.page.content }}
                  </div>
                </div>
              </div>
            {%- endif -%}

          {%- when 'shipping' -%}
            <div class="hosen-product-dropdowns__item" {{ block.shopify_attributes }}>
              <button class="hosen-product-dropdowns__question" data-dropdown-toggle>
                <span class="hosen-product-dropdowns__question-text">{{ block.settings.heading | default: 'Dostawa i zwroty' }}</span>
                <span class="hosen-product-dropdowns__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              </button>
              <div class="hosen-product-dropdowns__answer">
                <div class="hosen-product-dropdowns__answer-inner rte">
                  {{ block.settings.content }}
                </div>
              </div>
            </div>

          {%- when 'size_guide' -%}
            <div class="hosen-product-dropdowns__item" {{ block.shopify_attributes }}>
              <button class="hosen-product-dropdowns__question" data-dropdown-toggle>
                <span class="hosen-product-dropdowns__question-text">{{ block.settings.heading | default: 'Tabela rozmiarów' }}</span>
                <span class="hosen-product-dropdowns__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              </button>
              <div class="hosen-product-dropdowns__answer">
                <div class="hosen-product-dropdowns__answer-inner rte">
                  {{ block.settings.content }}
                </div>
              </div>
            </div>

          {%- when 'care' -%}
            <div class="hosen-product-dropdowns__item" {{ block.shopify_attributes }}>
              <button class="hosen-product-dropdowns__question" data-dropdown-toggle>
                <span class="hosen-product-dropdowns__question-text">{{ block.settings.heading | default: 'Pielęgnacja' }}</span>
                <span class="hosen-product-dropdowns__icon">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              </button>
              <div class="hosen-product-dropdowns__answer">
                <div class="hosen-product-dropdowns__answer-inner rte">
                  {{ block.settings.content }}
                </div>
              </div>
            </div>
        {%- endcase -%}
      {%- endfor -%}
    </div>

  </div>
</div>

{% schema %}
{
  "name": "Hosen Product Dropdowns",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Nagłówek sekcji",
      "default": "Informacje o produkcie"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Rozmiar nagłówka",
      "options": [
        { "value": "h3", "label": "Mały" },
        { "value": "h2", "label": "Średni" },
        { "value": "h1", "label": "Duży" },
        { "value": "h0", "label": "Bardzo duży" }
      ],
      "default": "h2"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Schemat kolorów",
      "default": "scheme-1"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Odstęp górny",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Odstęp dolny",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 52
    }
  ],
  "blocks": [
    {
      "type": "description",
      "name": "Opis produktu",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Nagłówek",
          "default": "Opis produktu"
        }
      ]
    },
    {
      "type": "custom",
      "name": "Własny tekst",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Nagłówek",
          "default": "Szczegóły"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Treść",
          "default": "<p>Dodaj tutaj ważne informacje o produkcie.</p>"
        }
      ]
    },
    {
      "type": "page",
      "name": "Podstrona",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Nagłówek (opcjonalnie)"
        },
        {
          "type": "page",
          "id": "page",
          "label": "Wybierz stronę"
        }
      ]
    },
    {
      "type": "shipping",
      "name": "Dostawa i zwroty",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Nagłówek",
          "default": "Dostawa i zwroty"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Treść",
          "default": "<p>Darmowa dostawa od 200zł. Zwroty w ciągu 14 dni.</p>"
        }
      ]
    },
    {
      "type": "size_guide",
      "name": "Tabela rozmiarów",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Nagłówek",
          "default": "Tabela rozmiarów"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Treść",
          "default": "<p>Sprawdź tabelę rozmiarów aby dobrać odpowiedni produkt.</p>"
        }
      ]
    },
    {
      "type": "care",
      "name": "Pielęgnacja",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Nagłówek",
          "default": "Pielęgnacja"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Treść",
          "default": "<p>Instrukcje dotyczące pielęgnacji produktu.</p>"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hosen Product Dropdowns",
      "blocks": [
        {
          "type": "description"
        },
        {
          "type": "shipping"
        },
        {
          "type": "size_guide"
        }
      ]
    }
  ]
}
{% endschema %}
