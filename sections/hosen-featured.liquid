{{ 'section-hosen-featured.css' | asset_url | stylesheet_tag }}

<div class="hosen-featured color-{{ section.settings.color_scheme }}" style="--padding-top: {{ section.settings.padding_top }}px; --padding-bottom: {{ section.settings.padding_bottom }}px;">
  <div class="hosen-featured__container page-width">
    <div class="hosen-featured__grid">
      
      <!-- Left Content -->
      <div class="hosen-featured__content">
        {% if section.settings.subheading != blank %}
          <span class="hosen-featured__subheading">{{ section.settings.subheading }}</span>
        {% endif %}
        
        {% if section.settings.heading != blank %}
          <h2 class="hosen-featured__title {{ section.settings.heading_size }}">{{ section.settings.heading }}</h2>
        {% endif %}
        
        {% if section.settings.description != blank %}
          <div class="hosen-featured__description">{{ section.settings.description }}</div>
        {% endif %}
        
        {% if section.settings.button_label != blank %}
          <a href="{{ section.settings.button_link }}" class="hosen-featured__button">
            <span>{{ section.settings.button_label }}</span>
            <svg class="hosen-featured__button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="7" y1="17" x2="17" y2="7"></line>
              <polyline points="7 7 17 7 17 17"></polyline>
            </svg>
          </a>
        {% endif %}
      </div>
      
      <!-- Right Products -->
      <div class="hosen-featured__products">
        {% for block in section.blocks %}
          {% assign product = block.settings.product %}
          <div class="hosen-featured__product" {{ block.shopify_attributes }}>
            {% if product != blank %}
              <a href="{{ product.url }}" class="hosen-featured__card">
                <div class="hosen-featured__image-wrapper">
                  {% if product.featured_image != blank %}
                    <img 
                      src="{{ product.featured_image | image_url: width: 600 }}"
                      srcset="{{ product.featured_image | image_url: width: 300 }} 300w,
                              {{ product.featured_image | image_url: width: 450 }} 450w,
                              {{ product.featured_image | image_url: width: 600 }} 600w"
                      sizes="(min-width: 990px) 25vw, (min-width: 750px) 33vw, 50vw"
                      alt="{{ product.featured_image.alt | default: product.title }}"
                      loading="lazy"
                      class="hosen-featured__image hosen-featured__image--primary"
                      width="{{ product.featured_image.width }}"
                      height="{{ product.featured_image.height }}"
                    >
                  {% endif %}
                  {% if product.images[1] != blank %}
                    <img 
                      src="{{ product.images[1] | image_url: width: 600 }}"
                      srcset="{{ product.images[1] | image_url: width: 300 }} 300w,
                              {{ product.images[1] | image_url: width: 450 }} 450w,
                              {{ product.images[1] | image_url: width: 600 }} 600w"
                      sizes="(min-width: 990px) 25vw, (min-width: 750px) 33vw, 50vw"
                      alt="{{ product.images[1].alt | default: product.title }}"
                      loading="lazy"
                      class="hosen-featured__image hosen-featured__image--secondary"
                      width="{{ product.images[1].width }}"
                      height="{{ product.images[1].height }}"
                    >
                  {% endif %}
                </div>
                
                <!-- Color Swatches -->
                {% if section.settings.show_swatches and product.variants.size > 1 %}
                  {% assign color_option = product.options_by_name['Color'] | default: product.options_by_name['Colour'] %}
                  {% if color_option != blank %}
                    <div class="hosen-featured__swatches">
                      {% for value in color_option.values limit: 4 %}
                        <span class="hosen-featured__swatch" style="background-color: {{ value | handleize }};"></span>
                      {% endfor %}
                      {% if color_option.values.size > 4 %}
                        <span class="hosen-featured__swatch-more">+{{ color_option.values.size | minus: 4 }}</span>
                      {% endif %}
                    </div>
                  {% endif %}
                {% endif %}
                
                <div class="hosen-featured__info">
                  {% if section.settings.show_vendor and product.vendor != blank %}
                    <span class="hosen-featured__vendor">{{ product.vendor }}</span>
                  {% endif %}
                  <h3 class="hosen-featured__product-title">{{ product.title }}</h3>
                  <div class="hosen-featured__price">
                    {% if product.compare_at_price > product.price %}
                      <span class="hosen-featured__price--sale">{{ product.price | money }}</span>
                      <span class="hosen-featured__price--compare">{{ product.compare_at_price | money }}</span>
                    {% else %}
                      <span>{{ product.price | money }}</span>
                    {% endif %}
                  </div>
                </div>
              </a>
            {% else %}
              <div class="hosen-featured__card hosen-featured__card--placeholder">
                <div class="hosen-featured__image-wrapper">
                  <div class="hosen-featured__placeholder">
                    {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
                  </div>
                </div>
                <div class="hosen-featured__info">
                  <span class="hosen-featured__vendor">Brand Name</span>
                  <h3 class="hosen-featured__product-title">Product Title</h3>
                  <div class="hosen-featured__price">0,00 z≈Ç</div>
                </div>
              </div>
            {% endif %}
          </div>
        {% endfor %}
      </div>
      
    </div>
  </div>
</div>


{% schema %}
{
  "name": "Hosen Featured",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "NEW AUTUMN COLLECTION"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "NEW GO-TO COLLECTION"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "h3", "label": "Small" },
        { "value": "h2", "label": "Medium" },
        { "value": "h1", "label": "Large" },
        { "value": "h0", "label": "Extra Large" }
      ],
      "default": "h1"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description",
      "default": "<p>Get ready to hit the streets with our new collection of sport and casual wear.</p>"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "SHOP COLLECTION"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "checkbox",
      "id": "show_vendor",
      "label": "Show vendor",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_swatches",
      "label": "Show color swatches",
      "default": true
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Padding top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Padding bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "default": 60
    }
  ],
  "blocks": [
    {
      "type": "product",
      "name": "Product",
      "limit": 3,
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hosen Featured",
      "blocks": [
        { "type": "product" },
        { "type": "product" },
        { "type": "product" }
      ]
    }
  ]
}
{% endschema %}
